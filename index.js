

var regions=[
{
    "region_name": "Adana",
    "region_code": "adana",
    "etype": "Solar Energy",
    "potential":"29876 GWh",
    "alternatives":{"first":"Wind Energy", "second":"Jeotermal Energy"},
    "potential": 2987656
},
{
    "region_name": "Adıyaman",
    "region_code": "adiyaman",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Afyonkarahisar",
    "region_code": "afyonkarahisar",
    "etype":"Wind Energy",
    "potential":"25711 GWh",
    "alternatives":{"first": "Bio Energy","second":"Solar Energy"},
    "potential": 5557276
},
{
    "region_name": "Burdur",
    "region_code": "burdur",
    "etype":"wind energy",
    "potential":"31111 GWh",
    "alternatives":"Jeotermal Energy",
    "potential": 4999932
},
{
    "region_name": "Ağrı",
    "region_code": "agri",
    "etype":"Jeotermal energy",
    "potential":"71111 GWh",
    "alternatives":"Wind Energy",
    "potential": 4881756
},
{
    "region_name": "Erzurum",
    "region_code": "erzurum",
    "potential": 4377487
},
{
    "region_name": "Kayseri",
    "region_code": "kayseri",
    "potential": 4374052
},
{
    "region_name": "Ankara",
    "region_code": "ankara",
    "etype":"solar energy",
    "potential": 4050803
},
{
    "region_name": "İzmir",
    "region_code": "izmir",
    "potential": 3692828
},
{
    "region_name": "İstanbul - Asya ",
    "region_code": "istanbul-asya",
    "potential": 1958238
},
{
    "region_name": "İstanbul - Avrupa",
    "region_code": "istanbul-avrupa",
    "potential": 1640379
},
{
    "region_name": "Balıkesir",
    "region_code": "balikesir",
    "potential": 1565127
},
{
    "region_name": "Çanakkale",
    "region_code": "canakkale",
    "potential": 1545155
},
{
    "region_name": "Kastamonu",
    "region_code": "kastamonu",
    "potential": 1312507
},
{
    "region_name": "Kütahya",
    "region_code": "kutahya",
    "potential": 1221860
},
{
    "region_name": "Kars",
    "region_code": "kars",
    "potential": 1039934
},
{
    "region_name": "Denizli",
    "region_code": "denizli",
    "potential": 886239
},
{
    "region_name": "Samsun",
    "region_code": "samsun",
    "potential": 576194
},
{
    "region_name": "Bilecik",
    "region_code": "bilecik",
    "potential": 313341
},
{
    "region_name": "Amasya",
    "region_code": "amasya",
    "potential": 127844
},
{
    "region_name": "Osmaniye",
    "region_code": "osmaniye",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Hatay",
    "region_code": "hatay",
    "etype":"Solar Energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Diyarbakır",
    "region_code": "diyarbakir",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Bayburt",
    "region_code": "bayburt",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Konya",
    "region_code": "konya",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Karaman",
    "region_code": "karaman",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Antalya",
    "region_code": "antalya",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Mersin",
    "region_code": "mersin",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 9169750
},
{
    "region_name": "Gaziantep",
    "region_code": "gaziantep",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 9469750
},
{
    "region_name": "Bursa",
    "region_code": "bursa",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Artvin",
    "region_code": "artvin",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Aydın",
    "region_code": "aydin",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Bingöl",
    "region_code": "bingol",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Bitlis",
    "region_code": "bitlis",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "image_url": ["\/assets\/img\/blogo.jpg"],
    "potential": 5769750
},
{
    "region_name": "Bolu",
    "region_code": "bolu",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Çankırı",
    "region_code": "cankiri",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Çorum",
    "region_code": "corum",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Edirne",
    "region_code": "edirne",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Elazığ",
    "region_code": "elazig",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Erzincan",
    "region_code": "erzincan",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Eskişehir",
    "region_code": "eskisehir",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Giresun",
    "region_code": "giresun",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Gümüşhane",
    "region_code": "gumushane",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Hakkari",
    "region_code": "hakkari",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Isparta",
    "region_code": "isparta",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Kırklareli",
    "region_code": "kirklareli",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Kırşehir",
    "region_code": "kirsehir",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Kocaeli",
    "region_code": "kocaeli",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Malatya",
    "region_code": "malatya",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Manisa",
    "region_code": "manisa",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Kahramanmaraş",
    "region_code": "kahramanmaras",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Mardin",
    "region_code": "mardin",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Muğla",
    "region_code": "mugla",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Muş",
    "region_code": "mus",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Nevşehir",
    "region_code": "nevsehir",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Niğde",
    "region_code": "nigde",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Ordu",
    "region_code": "ordu",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Rize",
    "region_code": "rize",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Sakarya",
    "region_code": "sakarya",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Siirt",
    "region_code": "siirt",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Sinop",
    "region_code": "sinop",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Sivas",
    "region_code": "sivas",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Tekirdağ",
    "region_code": "tekirdag",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Tokat",
    "region_code": "tokat",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Trabzon",
    "region_code": "trabzon",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Tunceli",
    "region_code": "tunceli",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Şanlıurfa",
    "region_code": "sanliurfa",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Uşak",
    "region_code": "usak",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Van",
    "region_code": "van",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Yozgat",
    "region_code": "yozgat",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Zonguldak",
    "region_code": "zonguldak",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Aksaray",
    "region_code": "aksaray",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Kırıkkale",
    "region_code": "kirikkale",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Batman",
    "region_code": "batman",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Şırnak",
    "region_code": "sirnak",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Bartın",
    "region_code": "bartin",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Ardahan",
    "region_code": "ardahan",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Iğdır",
    "region_code": "igdir",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Yalova",
    "region_code": "yalova",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Karabük",
    "region_code": "karabuk",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Yalova",
    "region_code": "yalova",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Düzce",
    "region_code": "duzce",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Kuzey Kıbrıs",
    "region_code": "kuzey-kibris",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
{
    "region_name": "Kilis",
    "region_code": "kilis",
    "etype":"Solar energy",
    "potential":"30000 GWh",
    "alternatives":{"first": "Jeotermal Energy","second":"Solar Energy"},
    "potential": 5769750
},
];




var cities = [];
var name;
var etype;
var pot;
var alt1;
var alt2;
var ecentral1;
var ecentral2;
var ecentral3;
var ecentral4;
var ecentral5;




var temp_array= regions.map(function(item){
    return item.potential;
    var region_data = $(this).data('region');
});
var highest_value = Math.max.apply(Math, temp_array);
var region_data = $(this).data('region');

$(function() {
    for(i = 0; i < regions.length; i++) {

        $('#'+ regions[i].region_code)
        //.css({'fill': 'rgba(11, 104, 170,' + regions[i].potential/highest_value +')'})
        .data('region', regions[i]);

    }


    $('.map g').mouseover(function (e) {
        var region_data=$(this).data('region');
        $('<div class="info_panel">'+
            region_data.region_name + '<br>' +
            '</div>'
            )
        .appendTo('body');
    })
    .mouseleave(function () {
        $('.info_panel').remove();
    })
    .mousemove(function(e) {
        var mouseX = e.pageX, //X coordinates of mouse
        mouseY = e.pageY; 

        $('.info_panel').css({
            top: mouseY-50,
            left: mouseX - ($('.info_panel').width()/2)
        });
    });



    $('.map g').mouseup(function(e){
      $('#exampleModal').modal('show');
      var region_data=$(this).data('region');

      clickOnMap(region_data);

  })


    function clickOnMap(region_data){

        console.log("clicked!")

        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
             //   var myArr = JSON.stringify(this.responseText);
         //    console.log(this.responseText);
         var myArr = JSON.parse(this.responseText);

           //  console.log(myArr[0].name);


           for (var i = 0; i < myArr.length; i++) {

            if(myArr[i].name == region_data.region_name){
             name = myArr[i].name;
             etype = myArr[i].etype;
             pot = myArr[i].pot;
             alt1 = myArr[i].alt1;
             alt2 = myArr[i].alt2;
             ecentral1 = myArr[i].ecentral1;
             ecentral2 = myArr[i].ecentral2;
             ecentral3 = myArr[i].ecentral3;
             ecentral4 = myArr[i].ecentral4;
             ecentral5 = myArr[i].ecentral5;

             $("#exampleModalLabel").html(name);
             $("#etype").html(etype);
             $("#pot").html(pot);
             $('#alt1').html(alt1);
             $('#alt2').html(alt2);


         }

     }
 }
};
xhttp.open("GET", "./cities.php", true);
xhttp.send();




}





   /*     $("#exampleModalLabel").html(region_data.region_name);
          $("#etype").html(region_data.etype);
          $("#pot").html(region_data.potential);
          $('#alt').html(region_data.alternatives.first);
          $('#alt1').html(region_data.alternatives.second);
          $('<img src= "' + region_data.images + '">')*/


          document.getElementById("detailLink").onclick = function() {
      // document.getElementById("detailLink").href="city_info.php?name='"+name+"'&etype='"+etype+"'&pot='"+pot+"'"; 
      window.location = "./city_info.php?name='"+name+"'&etype='"+etype+"'&pot='"+pot+"'&alt1='"+alt1+"'&alt2='"+alt2+"'&ecentral1='"+ecentral1+"'&ecentral2='"+ecentral2+"'&ecentral3='"+ecentral3+"'&ecentral4='"+ecentral4+"'&ecentral5='"+ecentral5+"'";
  };



});
